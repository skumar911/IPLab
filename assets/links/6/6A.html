<!DOCTYPE html>
<html>
<head>
  <style>
  table,th,td {
    border : 1px solid black;
    border-collapse: collapse;
  }
  th,td {
    padding: 5px;
  }
  </style>

  <script>
  function loadDoc1() {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
        document.getElementById("demo").innerHTML =
        this.responseText;
      }
    };
    xhttp.open("GET", "/../assets/AJAX/ajax_info.txt", true);
    xhttp.send();
  }
  </script>

  <script>
  function loadDoc(url) {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
        document.getElementById('A1').innerHTML = this.status;
        document.getElementById('A2').innerHTML = this.statusText;
        document.getElementById('A3').innerHTML = this.responseText;
      }
    };
    xhttp.open("GET", url, true);
    xhttp.send();
  }
  </script>

  <script>
  function loadDoc2() {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
        myFunction(this);
      }
    };
    xhttp.open("GET", "/../assets/AJAX/books.xml", true);
    xhttp.send();
  }
  function myFunction(xml) {
    var i;
    var xmlDoc = xml.responseXML;
    var table="<tr><th>TITLE</th><th>AUTHOR</th></tr>";
    var x = xmlDoc.getElementsByTagName("book");
    for (i = 0; i <x.length; i++) {
      table += "<tr><td>" +
      x[i].getElementsByTagName("title")[0].childNodes[0].nodeValue +
      "</td><td>" +
      x[i].getElementsByTagName("author")[0].childNodes[0].nodeValue +
      "</td></tr>";
    }
    document.getElementById("demo1").innerHTML = table;
  }
</script>
<script language="javascript" >
document.writeln("<h2>JSON array object</h2>");

var books = { "Pascal" : [
      { "Name"  : "Pascal Made Simple", "price" : 700 },
      { "Name"  : "Guide to Pascal", "price" : 400 }
   ],
   "Scala"  : [
      { "Name"  : "Scala for the Impatient", "price" : 1000 },
      { "Name"  : "Scala in Depth", "price" : 1300 }
   ]
}

var i = 0
document.writeln("<table border='2'><tr>");
for(i=0;i<books.Pascal.length;i++)
{
   document.writeln("<td>");
   document.writeln("<table border='1' width=100 >");
   document.writeln("<tr><td><b>Name</b></td><td width=50>"
   + books.Pascal[i].Name+"</td></tr>");
   document.writeln("<tr><td><b>Price</b></td><td width=50>"
   + books.Pascal[i].price +"</td></tr>");
   document.writeln("</table>");
   document.writeln("</td>");
}

for(i=0;i<books.Scala.length;i++)
{
   document.writeln("<td>");
   document.writeln("<table border='1' width=100 >");
   document.writeln("<tr><td><b>Name</b></td><td width=50>"
   + books.Scala[i].Name+"</td></tr>");
   document.writeln("<tr><td><b>Price</b></td><td width=50>"
   + books.Scala[i].price+"</td></tr>");
   document.writeln("</table>");
   document.writeln("</td>");
}
document.writeln("</tr></table>");
</script>

<script language="javascript" >

  var JSONObj = { "name" : "TE IT B TCET Mumbai", "year"  : 2018 };
  document.write("<h1>JSON Object Creation Example</h1>");
  document.write("<h3>Div : "+JSONObj.name+"</h3>");
  document.write("<h3>Year : "+JSONObj.year+"</h3>");

</script>

<script language="javascript" >

  var object1 = { "language" : "Java", "author"  : "herbert schildt" };
  document.write("<h1>JSON Example</h1>");
  document.write("<h3>Language = " + object1.language+"</h3>");
  document.write("<h3>Author = " + object1.author+"</h3>");

  var object2 = { "language" : "C++", "author"  : "E-Balagurusamy" };
  document.write("<br>");
  document.write("<h3>Language = " + object2.language+"</h3>");
  document.write("<h3>Author = " + object2.author+"</h3>");

  document.write("<hr />");
  document.write(object2.language + " programming language can be studied " +
  "from book written by " + object2.author);
  document.write("<hr />");

</script>
</head>

<body>
  <div id="demo">
    <h1>The XMLHttpRequest Object</h1>
    <button type="button" onclick="loadDoc1()">Change Content</button>
  </div>

  <h2>Retrieve data from XML file</h2>

  <p><b>Status:</b> <span id="A1"></span></p>
  <p><b>Status text:</b> <span id="A2"></span></p>
  <p><b>Response:</b> <span id="A3"></span></p>

  <button onclick="loadDoc('cdcatalog.xml')">Get XML data</button>


  <h1>The XMLHttpRequest Object</h1>

  <button type="button" onclick="loadDoc2()">Get my book collection</button>
  <br><br>
  <table id="demo1"></table>
</body>
</html>
